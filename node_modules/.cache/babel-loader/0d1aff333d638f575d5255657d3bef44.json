{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/Login.js\";\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { GET_EMAIL } from '../redux/actions';\nimport anaMaria from '../images/anaMaria.';\nimport '../styles/login.css';\nexport default function Login({\n  history\n}) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isValid, setIsValid] = useState(false);\n  const dispatch = useDispatch();\n\n  const emailValidation = (emailToValidate, passwordToValidate) => {\n    const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const NUMBER_SIX = 6;\n\n    if (passwordToValidate.length > NUMBER_SIX && regex.test(emailToValidate)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    setIsValid(emailValidation(email, password));\n  }, [email, password]);\n\n  const handleClick = () => {\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({\n      email\n    }));\n    history.push('/comidas');\n    dispatch({\n      type: GET_EMAIL,\n      payload: email\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-name-input\",\n    type: \"text\",\n    placeholder: \"Email\",\n    \"data-testid\": \"email-input\",\n    name: \"email-input\",\n    value: email,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setEmail(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-name-input\",\n    type: \"password\",\n    placeholder: \"Senha\",\n    \"data-testid\": \"password-input\",\n    name: \"password-input\",\n    value: password,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setPassword(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login-submit-button\",\n    disabled: !isValid,\n    type: \"button\",\n    \"data-testid\": \"login-submit-btn\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Entrar\")));\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/Login.js"],"names":["PropTypes","React","useEffect","useState","useDispatch","GET_EMAIL","anaMaria","Login","history","email","setEmail","password","setPassword","isValid","setIsValid","dispatch","emailValidation","emailToValidate","passwordToValidate","regex","NUMBER_SIX","length","test","handleClick","localStorage","setItem","JSON","stringify","push","type","payload","target","value","propTypes","shape","func","isRequired"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { GET_EMAIL } from '../redux/actions';\nimport anaMaria from '../images/anaMaria.'\nimport '../styles/login.css';\n\nexport default function Login({ history }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isValid, setIsValid] = useState(false);\n  const dispatch = useDispatch();\n\n  const emailValidation = (emailToValidate, passwordToValidate) => {\n    const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const NUMBER_SIX = 6;\n    if (passwordToValidate.length > NUMBER_SIX && regex.test(emailToValidate)) {\n      return true;\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    setIsValid(emailValidation(email, password));\n  }, [email, password]);\n\n  const handleClick = () => {\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/comidas');\n    dispatch({ type: GET_EMAIL, payload: email });\n  };\n\n  return (\n    <main className=\"login\">\n      <section className=\"login-form\">\n        <input\n          className=\"login-name-input\"\n          type=\"text\"\n          placeholder=\"Email\"\n          data-testid=\"email-input\"\n          name=\"email-input\"\n          value={ email }\n          onChange={ ({ target: { value } }) => setEmail(value) }\n        />\n        <input\n          className=\"login-name-input\"\n          type=\"password\"\n          placeholder=\"Senha\"\n          data-testid=\"password-input\"\n          name=\"password-input\"\n          value={ password }\n          onChange={ ({ target: { value } }) => setPassword(value) }\n        />\n        <button\n          className=\"login-submit-button\"\n          disabled={ !isValid }\n          type=\"button\"\n          data-testid=\"login-submit-btn\"\n          onClick={ handleClick }\n        >\n          Entrar\n\n        </button>\n      </section>\n    </main>\n  );\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}