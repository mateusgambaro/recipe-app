{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/ExploreMeals.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\n\nconst RECIPE_CARD = index => `${index}-recipe-card`;\n\nconst CARD_IMG = index => `${index}-card-img`;\n\nconst CARD_NAME = index => `${index}-card-name`;\n\nconst EXPLORE_BY_INGREDIENT = 'explore-by-ingredient';\nconst EXPLORE_BY_AREA = 'explore-by-area';\nconst EXPLORE_SURPRISE = 'explore-surprise';\nconst randomEndpoint = 'https://www.themealdb.com/api/json/v1/1/random.php';\n\nconst byIngredient = ingredient => `https://www.themealdb.com/api/json/v1/1/filter.php?i=${ingredient.toLowerCase().split(' ').join('_')}`;\n\nfunction ExploreMeals() {\n  const history = useHistory();\n  const selectedIngredient = useSelector(state => state.searchReducer.ingredient);\n  const [recipes, setRecipes] = useState([]);\n  useEffect(() => {\n    async function getRecipes() {\n      const {\n        meals\n      } = await fetch(byIngredient(selectedIngredient)).then(results => results.json());\n      setRecipes(meals);\n    }\n\n    if (selectedIngredient) getRecipes();\n  }, [selectedIngredient]);\n\n  async function handleClick() {\n    const {\n      meals\n    } = await fetch(randomEndpoint).then(response => response.json());\n    const routeNumber = meals[0].idMeal;\n    history.push(`/comidas/${routeNumber}`);\n  }\n\n  const TWELVE = 12;\n  const twelveRecipes = recipes ? recipes.slice(0, TWELVE) : [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Comidas\",\n    search: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"explore-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"explore-btn\",\n    type: \"button\",\n    \"data-testid\": EXPLORE_BY_INGREDIENT,\n    onClick: () => history.push('/explorar/comidas/ingredientes'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Por Ingredientes\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"explore-btn\",\n    type: \"button\",\n    \"data-testid\": EXPLORE_BY_AREA,\n    onClick: () => history.push('/explorar/comidas/area'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Por Local de Origem\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": EXPLORE_SURPRISE,\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Me Surpreenda!\")), // idMeal\n  twelveRecipes.map(({\n    strMealThumb,\n    strMeal\n  }, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    \"data-testid\": RECIPE_CARD(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: strMealThumb,\n    alt: `${strMeal}-dish`,\n    \"data-testid\": CARD_IMG(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": CARD_NAME(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, strMeal))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ExploreMeals;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/ExploreMeals.js"],"names":["React","useEffect","useState","useSelector","useHistory","Footer","Header","RECIPE_CARD","index","CARD_IMG","CARD_NAME","EXPLORE_BY_INGREDIENT","EXPLORE_BY_AREA","EXPLORE_SURPRISE","randomEndpoint","byIngredient","ingredient","toLowerCase","split","join","ExploreMeals","history","selectedIngredient","state","searchReducer","recipes","setRecipes","getRecipes","meals","fetch","then","results","json","handleClick","response","routeNumber","idMeal","push","TWELVE","twelveRecipes","slice","map","strMealThumb","strMeal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\n\nconst RECIPE_CARD = (index) => `${index}-recipe-card`;\nconst CARD_IMG = (index) => `${index}-card-img`;\nconst CARD_NAME = (index) => `${index}-card-name`;\n\nconst EXPLORE_BY_INGREDIENT = 'explore-by-ingredient';\nconst EXPLORE_BY_AREA = 'explore-by-area';\nconst EXPLORE_SURPRISE = 'explore-surprise';\n\nconst randomEndpoint = 'https://www.themealdb.com/api/json/v1/1/random.php';\nconst byIngredient = (ingredient) => `https://www.themealdb.com/api/json/v1/1/filter.php?i=${ingredient.toLowerCase().split(' ').join('_')}`;\n\nfunction ExploreMeals() {\n  const history = useHistory();\n  const selectedIngredient = useSelector((state) => state.searchReducer.ingredient);\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    async function getRecipes() {\n      const { meals } = await fetch(byIngredient(selectedIngredient))\n        .then((results) => results.json());\n      setRecipes(meals);\n    }\n    if (selectedIngredient) getRecipes();\n  }, [selectedIngredient]);\n\n  async function handleClick() {\n    const { meals } = await fetch(randomEndpoint)\n      .then((response) => response.json());\n    const routeNumber = meals[0].idMeal;\n    history.push(`/comidas/${routeNumber}`);\n  }\n\n  const TWELVE = 12;\n  const twelveRecipes = recipes ? recipes.slice(0, TWELVE) : [];\n\n  return (\n    <>\n      <header>\n        <Header title=\"Explorar Comidas\" search={ false } />\n      </header>\n      <div className=\"explore-container\">\n      <button\n        className=\"explore-btn\"\n        type=\"button\"\n        data-testid={ EXPLORE_BY_INGREDIENT }\n        onClick={ () => history.push('/explorar/comidas/ingredientes') }\n      >\n        Por Ingredientes\n      </button>\n      <button\n      className=\"explore-btn\"\n        type=\"button\"\n        data-testid={ EXPLORE_BY_AREA }\n        onClick={ () => history.push('/explorar/comidas/area') }\n      >\n        Por Local de Origem\n      </button>\n      <button\n        type=\"button\"\n        data-testid={ EXPLORE_SURPRISE }\n        onClick={ () => handleClick() }\n      >\n        Me Surpreenda!\n      </button>\n      </div>\n      {\n        // idMeal\n        twelveRecipes.map(({ strMealThumb, strMeal }, index) => (\n          <div\n            key={ index }\n            data-testid={ RECIPE_CARD(index) }\n          >\n            <img\n              src={ strMealThumb }\n              alt={ `${strMeal}-dish` }\n              data-testid={ CARD_IMG(index) }\n            />\n            <h3 data-testid={ CARD_NAME(index) }>{strMeal}</h3>\n          </div>\n        ))\n      }\n      <Footer />\n    </>\n  );\n}\n\nexport default ExploreMeals;\n"]},"metadata":{},"sourceType":"module"}