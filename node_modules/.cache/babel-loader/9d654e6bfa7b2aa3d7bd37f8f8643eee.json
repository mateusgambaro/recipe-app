{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/MealsByArea.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\nconst EXPLORE_BY_AREA_DROPDOWN = 'explore-by-area-dropdown';\n\nconst AREA_OPTION = area => `${area.toLowerCase()}-option`;\n\nconst locations = 'https://www.themealdb.com/api/json/v1/1/list.php?a=list';\nconst fetchAll = 'https://www.themealdb.com/api/json/v1/1/search.php?f=a';\n\nconst byCountry = location => `https://www.themealdb.com/api/json/v1/1/filter.php?a=${location}`;\n\nfunction MealsByArea() {\n  const history = useHistory();\n  const [area, setArea] = useState([]);\n  const [location, setLocation] = useState('All');\n  const [recipes, setRecipes] = useState([]);\n\n  const reducer = arr => arr.reduce((acc, {\n    strArea\n  }) => [...acc, strArea], ['All']);\n\n  useEffect(() => {\n    async function listArea() {\n      const {\n        meals\n      } = await fetch(locations).then(results => results.json());\n      setArea(reducer(meals));\n    }\n\n    listArea();\n  }, []);\n  useEffect(() => {\n    async function getRecipes() {\n      const {\n        meals\n      } = await fetch(location !== 'All' ? byCountry(location) : fetchAll).then(results => results.json());\n      setRecipes(meals);\n    }\n\n    getRecipes();\n  }, [location]);\n  const TWELVE = 12;\n  const twelveRecipe = recipes.slice(0, TWELVE);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Origem\",\n    search: true,\n    meals: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": EXPLORE_BY_AREA_DROPDOWN,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setLocation(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, area.map((e, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    \"data-testid\": AREA_OPTION(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, e))), twelveRecipe.map(({\n    strMeal,\n    strMealThumb,\n    idMeal\n  }, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    role: \"button\",\n    onClick: () => history.push(`/comidas/${idMeal}`),\n    tabIndex: \"0\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: strMealThumb,\n    alt: `${strMeal}-dish-plate`,\n    height: \"160px\",\n    width: \"120px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, strMeal))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default MealsByArea;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/MealsByArea.js"],"names":["React","useEffect","useState","useHistory","Footer","Header","EXPLORE_BY_AREA_DROPDOWN","AREA_OPTION","area","toLowerCase","locations","fetchAll","byCountry","location","MealsByArea","history","setArea","setLocation","recipes","setRecipes","reducer","arr","reduce","acc","strArea","listArea","meals","fetch","then","results","json","getRecipes","TWELVE","twelveRecipe","slice","target","value","map","e","index","strMeal","strMealThumb","idMeal","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\n\nconst EXPLORE_BY_AREA_DROPDOWN = 'explore-by-area-dropdown';\nconst AREA_OPTION = (area) => `${area.toLowerCase()}-option`;\n\nconst locations = 'https://www.themealdb.com/api/json/v1/1/list.php?a=list';\nconst fetchAll = 'https://www.themealdb.com/api/json/v1/1/search.php?f=a';\nconst byCountry = (location) => `https://www.themealdb.com/api/json/v1/1/filter.php?a=${location}`;\n\nfunction MealsByArea() {\n  const history = useHistory();\n  const [area, setArea] = useState([]);\n  const [location, setLocation] = useState('All');\n  const [recipes, setRecipes] = useState([]);\n  const reducer = (arr) => arr\n    .reduce((acc, { strArea }) => [...acc, strArea], ['All']);\n\n  useEffect(() => {\n    async function listArea() {\n      const { meals } = await fetch(locations)\n        .then((results) => results.json());\n      setArea(reducer(meals));\n    }\n    listArea();\n  }, []);\n\n  useEffect(() => {\n    async function getRecipes() {\n      const { meals } = await fetch(location !== 'All' ? byCountry(location) : fetchAll)\n        .then((results) => results.json());\n      setRecipes(meals);\n    }\n    getRecipes();\n  }, [location]);\n\n  const TWELVE = 12;\n  const twelveRecipe = recipes.slice(0, TWELVE);\n\n  return (\n    <>\n      <header>\n        <Header title=\"Explorar Origem\" search meals />\n      </header>\n      <select\n        data-testid={ EXPLORE_BY_AREA_DROPDOWN }\n        onChange={ ({ target: { value } }) => setLocation(value) }\n      >\n        {\n          area.map((e, index) => (\n            <option key={ index } data-testid={ AREA_OPTION(e) }>\n              {e}\n            </option>))\n        }\n      </select>\n      {\n        twelveRecipe.map(({ strMeal, strMealThumb, idMeal }, index) => (\n          <div\n            key={ index }\n            role=\"button\"\n            onClick={ () => history.push(`/comidas/${idMeal}`) }\n            tabIndex=\"0\"\n            aria-hidden=\"true\"\n          >\n            <img\n              src={ strMealThumb }\n              alt={ `${strMeal}-dish-plate` }\n              height=\"160px\"\n              width=\"120px\"\n            />\n            <h3>{strMeal}</h3>\n          </div>))\n      }\n      <Footer />\n    </>\n  );\n}\n\nexport default MealsByArea;\n"]},"metadata":{},"sourceType":"module"}