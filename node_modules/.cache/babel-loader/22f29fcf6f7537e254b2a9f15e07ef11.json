{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/ExploreDrinks.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\nimport '../styles/';\n\nconst RECIPE_CARD = index => `${index}-recipe-card`;\n\nconst CARD_IMG = index => `${index}-card-img`;\n\nconst CARD_NAME = index => `${index}-card-name`;\n\nconst EXPLORE_BY_INGREDIENT = 'explore-by-ingredient';\nconst EXPLORE_SURPRISE = 'explore-surprise';\nconst randomEndpoint = 'https://www.thecocktaildb.com/api/json/v1/1/random.php';\n\nconst byIngredient = ingredient => `https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${ingredient}`;\n\nfunction ExploreDrinks() {\n  const history = useHistory();\n  const selectedIngredient = useSelector(state => state.searchReducer.ingredient);\n  const [recipes, setRecipes] = useState([]);\n  useEffect(() => {\n    async function getRecipes() {\n      const {\n        drinks\n      } = await fetch(byIngredient(selectedIngredient)).then(results => results.json());\n      setRecipes(drinks);\n    }\n\n    if (selectedIngredient) getRecipes();\n  }, [selectedIngredient]);\n\n  async function handleClick() {\n    const {\n      drinks\n    } = await fetch(randomEndpoint).then(response => response.json());\n    const routeNumber = drinks[0].idDrink;\n    history.push(`/bebidas/${routeNumber}`);\n  }\n\n  const TWELVE = 12;\n  const twelveRecipes = recipes ? recipes.slice(0, TWELVE) : [];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Bebidas\",\n    search: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"explore-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"explore-btn\",\n    type: \"button\",\n    \"data-testid\": EXPLORE_BY_INGREDIENT,\n    onClick: () => history.push('/explorar/bebidas/ingredientes'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Por Ingredientes\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"explore-btn\",\n    type: \"button\",\n    \"data-testid\": EXPLORE_SURPRISE,\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Me Surpreenda!\")), // idDrink\n  twelveRecipes.map(({\n    strDrinkThumb,\n    strDrink\n  }, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    \"data-testid\": RECIPE_CARD(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: strDrinkThumb,\n    alt: `${strDrink}-cocktail`,\n    \"data-testid\": CARD_IMG(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": CARD_NAME(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, strDrink))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ExploreDrinks;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/ExploreDrinks.js"],"names":["React","useState","useEffect","useHistory","useSelector","Footer","Header","RECIPE_CARD","index","CARD_IMG","CARD_NAME","EXPLORE_BY_INGREDIENT","EXPLORE_SURPRISE","randomEndpoint","byIngredient","ingredient","ExploreDrinks","history","selectedIngredient","state","searchReducer","recipes","setRecipes","getRecipes","drinks","fetch","then","results","json","handleClick","response","routeNumber","idDrink","push","TWELVE","twelveRecipes","slice","map","strDrinkThumb","strDrink"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { useSelector } from 'react-redux';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\nimport '../styles/'\n\nconst RECIPE_CARD = (index) => `${index}-recipe-card`;\nconst CARD_IMG = (index) => `${index}-card-img`;\nconst CARD_NAME = (index) => `${index}-card-name`;\n\nconst EXPLORE_BY_INGREDIENT = 'explore-by-ingredient';\nconst EXPLORE_SURPRISE = 'explore-surprise';\n\nconst randomEndpoint = 'https://www.thecocktaildb.com/api/json/v1/1/random.php';\nconst byIngredient = (ingredient) => `https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${ingredient}`;\n\nfunction ExploreDrinks() {\n  const history = useHistory();\n  const selectedIngredient = useSelector((state) => state.searchReducer.ingredient);\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    async function getRecipes() {\n      const { drinks } = await fetch(byIngredient(selectedIngredient))\n        .then((results) => results.json());\n      setRecipes(drinks);\n    }\n    if (selectedIngredient) getRecipes();\n  }, [selectedIngredient]);\n\n  async function handleClick() {\n    const { drinks } = await fetch(randomEndpoint)\n      .then((response) => response.json());\n    const routeNumber = drinks[0].idDrink;\n    history.push(`/bebidas/${routeNumber}`);\n  }\n\n  const TWELVE = 12;\n  const twelveRecipes = recipes ? recipes.slice(0, TWELVE) : [];\n\n  return (\n    <>\n      <header>\n        <Header title=\"Explorar Bebidas\" search={ false } />\n      </header>\n      <div className=\"explore-container\">\n        <button\n          className=\"explore-btn\"\n          type=\"button\"\n          data-testid={ EXPLORE_BY_INGREDIENT }\n          onClick={ () => history.push('/explorar/bebidas/ingredientes') }\n        >\n          Por Ingredientes\n        </button>\n        <button\n          className=\"explore-btn\"\n          type=\"button\"\n          data-testid={ EXPLORE_SURPRISE }\n          onClick={ () => handleClick() }\n        >\n          Me Surpreenda!\n        </button>\n      </div>\n      {\n        // idDrink\n        twelveRecipes.map(({ strDrinkThumb, strDrink }, index) => (\n          <div\n            key={ index }\n            data-testid={ RECIPE_CARD(index) }\n          >\n            <img\n              src={ strDrinkThumb }\n              alt={ `${strDrink}-cocktail` }\n              data-testid={ CARD_IMG(index) }\n            />\n            <h3 data-testid={ CARD_NAME(index) }>{strDrink}</h3>\n          </div>\n        ))\n      }\n      <Footer />\n    </>\n  );\n}\n\nexport default ExploreDrinks;\n"]},"metadata":{},"sourceType":"module"}