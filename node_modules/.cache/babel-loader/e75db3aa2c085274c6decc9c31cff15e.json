{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/DrinkDetails.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/recipesDetails.css';\nconst RECIPE_PHOTO = 'recipe-photo';\nconst RECIPE_TITLE = 'recipe-title';\nconst SHARE_BTN = 'share-btn';\nconst FAVORITE_BTN = 'favorite-btn';\nconst RECIPE_CATEGORY = 'recipe-category';\n\nconst INGREDIENT_NAME_AND_MEASURE = index => `${index}-ingredient-name-and-measure`;\n\nconst INSTRUCTIONS = 'instructions';\nconst VIDEO = 'video';\nconst START_RECIPE_BTN = 'start-recipe-btn'; // Habilitar após criação do card de Receita;\n// const RECOMENDATION_CARD = (index) => `${index}-recomendation-card`;\n\nconst randomEndpoint = 'https://www.thecocktaildb.com/api/json/v1/1/random.php';\n\nconst idEndpoint = id => `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n\nfunction DrinkDetails({\n  match: {\n    params: {\n      id\n    }\n  }\n}) {\n  const [recipe, setRecipe] = useState([]);\n\n  const getRecipe = async () => {\n    await fetch(idEndpoint(id)).then(response => response.json()).then(data => setRecipe(data.drinks[0]));\n  };\n\n  const getRandom = async () => {\n    await fetch(randomEndpoint).then(response => response.json()).then(data => setRecipe(data.drinks[0]));\n  };\n\n  useEffect(() => {\n    if (id === 'random') {\n      getRandom();\n    } else {\n      getRecipe();\n    }\n  });\n  const {\n    strDrinkThumb,\n    strDrink,\n    strCategory,\n    strInstructions,\n    strYoutube\n  } = recipe;\n\n  function returnValue(a, b, string) {\n    if (a.toLowerCase().includes(string) && b !== '') {\n      return b;\n    }\n\n    return null;\n  }\n\n  const entries = Object.entries(recipe);\n  const ingredients = entries.map(e => returnValue(e[0], e[1], 'ingredient')).filter(e => e !== null);\n  const measurements = entries.map(e => returnValue(e[0], e[1], 'measure')).filter(e => e !== null);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"recipe-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": RECIPE_PHOTO,\n    alt: `${strDrink} drink`,\n    src: strDrinkThumb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Detalhes\"), /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": RECIPE_TITLE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, strDrink), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": SHARE_BTN,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Compartilhar\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": FAVORITE_BTN,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Favorito\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"category\",\n    \"data-testid\": RECIPE_CATEGORY,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, strCategory), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, ingredients.map((e, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    \"data-testid\": INGREDIENT_NAME_AND_MEASURE(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, `${e} - ${measurements[index]}`))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"method\",\n    \"data-testid\": INSTRUCTIONS,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, strInstructions), /*#__PURE__*/React.createElement(\"iframe\", {\n    className: \"videobox\",\n    id: \"player\",\n    type: \"text/html\",\n    width: \"640\",\n    height: \"360\",\n    \"data-testid\": VIDEO,\n    title: \"YouTube video player\",\n    src: strYoutube,\n    frameBorder: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": START_RECIPE_BTN,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, \"Iniciar Receita\"));\n}\n\nDrinkDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    })\n  })\n};\nDrinkDetails.defaultProps = {\n  match: {}\n};\nexport default DrinkDetails;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/DrinkDetails.js"],"names":["React","useState","useEffect","PropTypes","RECIPE_PHOTO","RECIPE_TITLE","SHARE_BTN","FAVORITE_BTN","RECIPE_CATEGORY","INGREDIENT_NAME_AND_MEASURE","index","INSTRUCTIONS","VIDEO","START_RECIPE_BTN","randomEndpoint","idEndpoint","id","DrinkDetails","match","params","recipe","setRecipe","getRecipe","fetch","then","response","json","data","drinks","getRandom","strDrinkThumb","strDrink","strCategory","strInstructions","strYoutube","returnValue","a","b","string","toLowerCase","includes","entries","Object","ingredients","map","e","filter","measurements","propTypes","shape","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/recipesDetails.css';\n\nconst RECIPE_PHOTO = 'recipe-photo';\nconst RECIPE_TITLE = 'recipe-title';\nconst SHARE_BTN = 'share-btn';\nconst FAVORITE_BTN = 'favorite-btn';\nconst RECIPE_CATEGORY = 'recipe-category';\nconst INGREDIENT_NAME_AND_MEASURE = (index) => `${index}-ingredient-name-and-measure`;\nconst INSTRUCTIONS = 'instructions';\nconst VIDEO = 'video';\nconst START_RECIPE_BTN = 'start-recipe-btn';\n// Habilitar após criação do card de Receita;\n// const RECOMENDATION_CARD = (index) => `${index}-recomendation-card`;\nconst randomEndpoint = 'https://www.thecocktaildb.com/api/json/v1/1/random.php';\nconst idEndpoint = (id) => `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n\nfunction DrinkDetails({ match: { params: { id } } }) {\n  const [recipe, setRecipe] = useState([]);\n  const getRecipe = async () => {\n    await fetch(idEndpoint(id))\n      .then((response) => response.json())\n      .then((data) => setRecipe(data.drinks[0]));\n  };\n\n  const getRandom = async () => {\n    await fetch(randomEndpoint)\n      .then((response) => response.json())\n      .then((data) => setRecipe(data.drinks[0]));\n  };\n\n  useEffect(() => {\n    if (id === 'random') {\n      getRandom();\n    } else {\n      getRecipe();\n    }\n  });\n\n  const { strDrinkThumb, strDrink, strCategory, strInstructions, strYoutube } = recipe;\n\n  function returnValue(a, b, string) {\n    if (a.toLowerCase().includes(string) && b !== '') {\n      return b;\n    }\n    return null;\n  }\n\n  const entries = Object.entries(recipe);\n  const ingredients = entries.map((e) => returnValue(e[0], e[1], 'ingredient'))\n    .filter((e) => e !== null);\n  const measurements = entries.map((e) => returnValue(e[0], e[1], 'measure'))\n    .filter((e) => e !== null);\n\n  return (\n    <section className=\"recipe-card\">\n      <img\n        data-testid={ RECIPE_PHOTO }\n        alt={ `${strDrink} drink` }\n        src={ strDrinkThumb }\n      />\n      <h1>Detalhes</h1>\n      <h2 data-testid={ RECIPE_TITLE }>{strDrink}</h2>\n      <div className=\"buttons\">\n        <button data-testid={ SHARE_BTN } type=\"button\">\n          Compartilhar\n        </button>\n        <button data-testid={ FAVORITE_BTN } type=\"button\">\n          Favorito\n        </button>\n      </div>\n      <p className=\"category\" data-testid={ RECIPE_CATEGORY }>{strCategory}</p>\n      <ul>\n        { ingredients.map((e, index) => (\n          <li key={ index } data-testid={ INGREDIENT_NAME_AND_MEASURE(index) }>\n            {`${e} - ${measurements[index]}`}\n          </li>\n        ))}\n      </ul>\n      <p className=\"method\" data-testid={ INSTRUCTIONS }>{strInstructions}</p>\n      <iframe\n        className=\"videobox\"\n        id=\"player\"\n        type=\"text/html\"\n        width=\"640\"\n        height=\"360\"\n        data-testid={ VIDEO }\n        title=\"YouTube video player\"\n        src={ strYoutube }\n        frameBorder=\"0\"\n      />\n      {/* Desabilitado, função necessita do Card de receita\n      {\n        recommended.map((e, index) => {<RecipeCard key={index} data-testid={ RECOMENDATION_CARD(index) } >{e}</RecipeCard>})\n      }\n      */}\n      <button data-testid={ START_RECIPE_BTN } type=\"button\">\n        Iniciar Receita\n      </button>\n    </section>\n  );\n}\n\nDrinkDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }),\n};\n\nDrinkDetails.defaultProps = {\n  match: {},\n};\nexport default DrinkDetails;\n"]},"metadata":{},"sourceType":"module"}