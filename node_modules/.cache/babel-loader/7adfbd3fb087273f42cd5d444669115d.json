{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/Components/LikeAndShare.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport shareIcon from \"../images/shareIcon.svg\";\nimport whiteHeartIcon from \"../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../images/blackHeartIcon.svg\";\nimport '../styles/recipesDetails.css';\nconst SHARE_BTN = 'share-btn';\nconst FAVORITE_BTN = 'favorite-btn';\n\nconst copy = require('clipboard-copy');\n\nfunction LikeAndShare({\n  id\n}) {\n  const [liked, setLiked] = useState(false);\n  const [alert, setAlert] = useState('');\n\n  function handleClick() {\n    setAlert('Link copiado!');\n    const prefix = 'http://localhost:3000';\n    return copy(prefix.concat(window.location.pathname));\n  }\n\n  useEffect(() => {\n    if (!localStorage.getItem('favoriteRecipes')) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify([]));\n    }\n\n    const savedRecipes = [...JSON.parse(localStorage.getItem('favoriteRecipes'))];\n    if (savedRecipes.some(({\n      id: element\n    }) => element === id.toString())) setLiked(true);\n  }, [id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"linkAndShare\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"heart\",\n    src: liked ? blackHeartIcon : whiteHeartIcon,\n    onClick: () => setLiked(!liked),\n    alt: \"heartshaped-icon\",\n    \"aria-hidden\": \"true\",\n    \"data-testid\": FAVORITE_BTN,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"share\",\n    src: shareIcon,\n    alt: \"share-icon\",\n    \"data-testid\": SHARE_BTN,\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), alert);\n}\n\nLikeAndShare.propTypes = {\n  id: PropTypes.string\n}.isRequired;\nexport default LikeAndShare;","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/Components/LikeAndShare.jsx"],"names":["PropTypes","React","useState","useEffect","SHARE_BTN","FAVORITE_BTN","copy","require","LikeAndShare","id","liked","setLiked","alert","setAlert","handleClick","prefix","concat","window","location","pathname","localStorage","getItem","setItem","JSON","stringify","savedRecipes","parse","some","element","toString","blackHeartIcon","whiteHeartIcon","shareIcon","propTypes","string","isRequired"],"mappings":";AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;AAIA,OAAO,8BAAP;AAEA,MAAMC,SAAS,GAAG,WAAlB;AACA,MAAMC,YAAY,GAAG,cAArB;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAA8B;AAC5B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;;AAEA,WAASY,WAAT,GAAuB;AACrBD,IAAAA,QAAQ,CAAC,eAAD,CAAR;AACA,UAAME,MAAM,GAAG,uBAAf;AACA,WACET,IAAI,CAACS,MAAM,CAACC,MAAP,CAAcC,MAAM,CAACC,QAAP,CAAgBC,QAA9B,CAAD,CADN;AAGD;;AAEDhB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACiB,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAL,EAA8C;AAC5CD,MAAAA,YAAY,CAACE,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAxC;AACD;;AACD,UAAMC,YAAY,GAAG,CAAC,GAAGF,IAAI,CAACG,KAAL,CAAWN,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAJ,CAArB;AACA,QAAII,YAAY,CAACE,IAAb,CAAkB,CAAC;AAAElB,MAAAA,EAAE,EAAEmB;AAAN,KAAD,KAAqBA,OAAO,KAAKnB,EAAE,CAACoB,QAAH,EAAnD,CAAJ,EAAuElB,QAAQ,CAAC,IAAD,CAAR;AACxE,GANQ,EAMN,CAACF,EAAD,CANM,CAAT;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,GAAG,EAAGC,KAAK,GAAGoB,cAAH,GAAoBC,cAFjC;AAGE,IAAA,OAAO,EAAG,MAAMpB,QAAQ,CAAC,CAACD,KAAF,CAH1B;AAIE,IAAA,GAAG,EAAC,kBAJN;AAKE,mBAAY,MALd;AAME,mBAAcL,YANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,GAAG,EAAG2B,SAFR;AAGE,IAAA,GAAG,EAAC,YAHN;AAIE,mBAAc5B,SAJhB;AAME,IAAA,OAAO,EAAG,MAAMU,WAAW,EAN7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAiBGF,KAjBH,CADF;AAqBD;;AAEDJ,YAAY,CAACyB,SAAb,GAAyB;AACvBxB,EAAAA,EAAE,EAAET,SAAS,CAACkC;AADS,EAEvBC,UAFF;AAIA,eAAe3B,YAAf","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport '../styles/recipesDetails.css';\n\nconst SHARE_BTN = 'share-btn';\nconst FAVORITE_BTN = 'favorite-btn';\nconst copy = require('clipboard-copy');\n\nfunction LikeAndShare({ id }) {\n  const [liked, setLiked] = useState(false);\n  const [alert, setAlert] = useState('');\n\n  function handleClick() {\n    setAlert('Link copiado!');\n    const prefix = 'http://localhost:3000';\n    return (\n      copy(prefix.concat(window.location.pathname))\n    );\n  }\n\n  useEffect(() => {\n    if (!localStorage.getItem('favoriteRecipes')) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify([]));\n    }\n    const savedRecipes = [...JSON.parse(localStorage.getItem('favoriteRecipes'))];\n    if (savedRecipes.some(({ id: element }) => element === id.toString())) setLiked(true);\n  }, [id]);\n\n  return (\n    <div className=\"linkAndShare\">\n      <img\n        className=\"heart\"\n        src={ liked ? blackHeartIcon : whiteHeartIcon }\n        onClick={ () => setLiked(!liked) }\n        alt=\"heartshaped-icon\"\n        aria-hidden=\"true\"\n        data-testid={ FAVORITE_BTN }\n      />\n      <img\n        className=\"share\"\n        src={ shareIcon }\n        alt=\"share-icon\"\n        data-testid={ SHARE_BTN }\n       \n        onClick={ () => handleClick() }\n      />\n      {alert}\n    </div>\n  );\n}\n\nLikeAndShare.propTypes = {\n  id: PropTypes.string,\n}.isRequired;\n\nexport default LikeAndShare;\n"]},"metadata":{},"sourceType":"module"}