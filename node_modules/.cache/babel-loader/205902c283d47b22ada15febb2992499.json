{"ast":null,"code":"var _jsxFileName = \"/home/mateus/recipes-app/src/pages/MealsByArea.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\n\nconst RECIPE_CARD = index => `${index}-recipe-card`;\n\nconst CARD_IMG = index => `${index}-card-img`;\n\nconst CARD_NAME = index => `${index}-card-name`;\n\nconst EXPLORE_BY_AREA_DROPDOWN = 'explore-by-area-dropdown';\n\nconst AREA_OPTION = area => `${area}-option`;\n\nconst locations = 'https://www.themealdb.com/api/json/v1/1/list.php?a=list';\nconst fetchAll = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\n\nconst byCountry = country => `https://www.themealdb.com/api/json/v1/1/filter.php?a=${country}`;\n\nfunction MealsByArea() {\n  const history = useHistory();\n  const [area, setArea] = useState([]);\n  const [location, setLocation] = useState('All');\n  const [recipes, setRecipes] = useState([]);\n\n  const reducer = arr => arr.reduce((acc, {\n    strArea\n  }) => [...acc, strArea], ['All']);\n\n  useEffect(() => {\n    async function listArea() {\n      const {\n        meals\n      } = await fetch(locations).then(results => results.json());\n      setArea(reducer(meals));\n    }\n\n    listArea();\n  }, []);\n  useEffect(() => {\n    async function getRecipes() {\n      const {\n        meals\n      } = await fetch(location === 'All' ? fetchAll : byCountry(location)).then(results => results.json());\n      setRecipes(meals);\n    }\n\n    getRecipes();\n  }, [location]);\n  const TWELVE = 12;\n  const twelveRecipe = recipes.slice(0, TWELVE);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Origem\",\n    search: true,\n    meals: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": EXPLORE_BY_AREA_DROPDOWN,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setLocation(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, area.map((e, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    \"data-testid\": AREA_OPTION(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, e))), twelveRecipe.map(({\n    strMeal,\n    strMealThumb,\n    idMeal\n  }, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    role: \"button\",\n    onClick: () => history.push(`/comidas/${idMeal}`),\n    tabIndex: \"0\",\n    \"aria-hidden\": \"true\",\n    \"data-testid\": RECIPE_CARD(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: strMealThumb,\n    alt: `${strMeal}-dish-plate`,\n    height: \"160px\",\n    width: \"120px\",\n    \"data-testid\": CARD_IMG(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": CARD_NAME(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, strMeal))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default MealsByArea;","map":{"version":3,"sources":["/home/mateus/recipes-app/src/pages/MealsByArea.js"],"names":["React","useEffect","useState","useHistory","Footer","Header","RECIPE_CARD","index","CARD_IMG","CARD_NAME","EXPLORE_BY_AREA_DROPDOWN","AREA_OPTION","area","locations","fetchAll","byCountry","country","MealsByArea","history","setArea","location","setLocation","recipes","setRecipes","reducer","arr","reduce","acc","strArea","listArea","meals","fetch","then","results","json","getRecipes","TWELVE","twelveRecipe","slice","target","value","map","e","strMeal","strMealThumb","idMeal","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Footer from '../Components/Footer';\nimport Header from '../Components/Header';\n\nconst RECIPE_CARD = (index) => `${index}-recipe-card`;\nconst CARD_IMG = (index) => `${index}-card-img`;\nconst CARD_NAME = (index) => `${index}-card-name`;\n\nconst EXPLORE_BY_AREA_DROPDOWN = 'explore-by-area-dropdown';\nconst AREA_OPTION = (area) => `${area}-option`;\n\nconst locations = 'https://www.themealdb.com/api/json/v1/1/list.php?a=list';\nconst fetchAll = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\nconst byCountry = (country) => `https://www.themealdb.com/api/json/v1/1/filter.php?a=${country}`;\n\nfunction MealsByArea() {\n  const history = useHistory();\n  const [area, setArea] = useState([]);\n  const [location, setLocation] = useState('All');\n  const [recipes, setRecipes] = useState([]);\n  const reducer = (arr) => arr\n    .reduce((acc, { strArea }) => [...acc, strArea], ['All']);\n\n  useEffect(() => {\n    async function listArea() {\n      const { meals } = await fetch(locations)\n        .then((results) => results.json());\n      setArea(reducer(meals));\n    }\n    listArea();\n  }, []);\n\n  useEffect(() => {\n    async function getRecipes() {\n      const { meals } = await fetch(location === 'All' ? fetchAll : byCountry(location))\n        .then((results) => results.json());\n      setRecipes(meals);\n    }\n    getRecipes();\n  }, [location]);\n\n  const TWELVE = 12;\n  const twelveRecipe = recipes.slice(0, TWELVE);\n\n  return (\n    <>\n      <header>\n        <Header title=\"Explorar Origem\" search meals />\n      </header>\n      <select\n        data-testid={ EXPLORE_BY_AREA_DROPDOWN }\n        onChange={ ({ target: { value } }) => setLocation(value) }\n      >\n        {\n          area.map((e, index) => (\n            <option key={ index } data-testid={ AREA_OPTION(e) }>\n              {e}\n            </option>))\n        }\n      </select>\n      {\n        twelveRecipe.map(({ strMeal, strMealThumb, idMeal }, index) => (\n          <div\n            key={ index }\n            role=\"button\"\n            onClick={ () => history.push(`/comidas/${idMeal}`) }\n            tabIndex=\"0\"\n            aria-hidden=\"true\"\n            data-testid={ RECIPE_CARD(index) }\n          >\n            <img\n              src={ strMealThumb }\n              alt={ `${strMeal}-dish-plate` }\n              height=\"160px\"\n              width=\"120px\"\n              data-testid={ CARD_IMG(index) }\n            />\n            <h3 data-testid={ CARD_NAME(index) }>{strMeal}</h3>\n          </div>))\n      }\n      <Footer />\n    </>\n  );\n}\n\nexport default MealsByArea;\n"]},"metadata":{},"sourceType":"module"}