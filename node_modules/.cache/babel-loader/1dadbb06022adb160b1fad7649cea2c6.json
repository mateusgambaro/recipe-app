{"ast":null,"code":"var _jsxFileName = \"/home/mateus/sd-014-b-project-recipes-app/src/pages/Login.js\";\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nexport default function Login({\n  history\n}) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const emailValidation = (emailToValidate, passwordToValidate) => {\n    const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const NUMBER_SIX = 6;\n\n    if (passwordToValidate.length > NUMBER_SIX && regex.test(emailToValidate)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    setIsValid(emailValidation(email, password));\n  }, [email, password]);\n\n  const handleClick = () => {\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({\n      email\n    }));\n    history.push('/comidas');\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Email\",\n    \"data-testid\": \"email-input\",\n    name: \"email-input\",\n    value: email,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setEmail(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Senha\",\n    \"data-testid\": \"password-input\",\n    name: \"password-input\",\n    value: password,\n    onChange: ({\n      target: {\n        value\n      }\n    }) => setPassword(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !isValid,\n    type: \"button\",\n    \"data-testid\": \"login-submit-btn\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Entrar\")));\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};","map":{"version":3,"sources":["/home/mateus/sd-014-b-project-recipes-app/src/pages/Login.js"],"names":["PropTypes","React","useEffect","useState","Login","history","email","setEmail","password","setPassword","isValid","setIsValid","emailValidation","emailToValidate","passwordToValidate","regex","NUMBER_SIX","length","test","handleClick","localStorage","setItem","JSON","stringify","push","target","value","propTypes","shape","func","isRequired"],"mappings":";AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,eAAe,SAASC,KAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAA4B;AACzC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMS,eAAe,GAAG,CAACC,eAAD,EAAkBC,kBAAlB,KAAyC;AAC/D,UAAMC,KAAK,GAAG,iCAAd;AACA,UAAMC,UAAU,GAAG,CAAnB;;AACA,QAAIF,kBAAkB,CAACG,MAAnB,GAA4BD,UAA5B,IAA0CD,KAAK,CAACG,IAAN,CAAWL,eAAX,CAA9C,EAA2E;AACzE,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD,GAPD;;AASAX,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,UAAU,CAACC,eAAe,CAACN,KAAD,EAAQE,QAAR,CAAhB,CAAV;AACD,GAFQ,EAEN,CAACF,KAAD,EAAQE,QAAR,CAFM,CAAT;;AAIA,QAAMW,WAAW,GAAG,MAAM;AACxBC,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,CAAnC;AACAD,IAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC,CAAvC;AACAD,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe;AAAEjB,MAAAA;AAAF,KAAf,CAA7B;AACAD,IAAAA,OAAO,CAACmB,IAAR,CAAa,UAAb;AACD,GALD;;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,mBAAY,aAHd;AAIE,IAAA,IAAI,EAAC,aAJP;AAKE,IAAA,KAAK,EAAGlB,KALV;AAME,IAAA,QAAQ,EAAG,CAAC;AAAEmB,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AAAV,KAAD,KAA2BnB,QAAQ,CAACmB,KAAD,CANhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,mBAAY,gBAHd;AAIE,IAAA,IAAI,EAAC,gBAJP;AAKE,IAAA,KAAK,EAAGlB,QALV;AAME,IAAA,QAAQ,EAAG,CAAC;AAAEiB,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AAAV,KAAD,KAA2BjB,WAAW,CAACiB,KAAD,CANnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAiBE;AACE,IAAA,QAAQ,EAAG,CAAChB,OADd;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,mBAAY,kBAHd;AAIE,IAAA,OAAO,EAAGS,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF,CADF,CADF;AA+BD;AAEDf,KAAK,CAACuB,SAAN,GAAkB;AAChBtB,EAAAA,OAAO,EAAEL,SAAS,CAAC4B,KAAV,CAAgB;AACvBJ,IAAAA,IAAI,EAAExB,SAAS,CAAC6B;AADO,GAAhB,EAENC;AAHa,CAAlB","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\n\nexport default function Login({ history }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const emailValidation = (emailToValidate, passwordToValidate) => {\n    const regex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    const NUMBER_SIX = 6;\n    if (passwordToValidate.length > NUMBER_SIX && regex.test(emailToValidate)) {\n      return true;\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    setIsValid(emailValidation(email, password));\n  }, [email, password]);\n\n  const handleClick = () => {\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/comidas');\n  };\n\n  return (\n    <main>\n      <section>\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          data-testid=\"email-input\"\n          name=\"email-input\"\n          value={ email }\n          onChange={ ({ target: { value } }) => setEmail(value) }\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Senha\"\n          data-testid=\"password-input\"\n          name=\"password-input\"\n          value={ password }\n          onChange={ ({ target: { value } }) => setPassword(value) }\n        />\n        <button\n          disabled={ !isValid }\n          type=\"button\"\n          data-testid=\"login-submit-btn\"\n          onClick={ handleClick }\n        >\n          Entrar\n\n        </button>\n      </section>\n    </main>\n  );\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}